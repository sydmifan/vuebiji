# 内容回顾

-------------

# 今日内容

## 组件的生命周期
	
	人的生命周期：
		出生 ---> 幼儿园 ---> 小学 --->初中--->高中--->大学--->工作--->结婚--->生孩子--->幸福快乐的生活--->死亡
		
	组件生命周期
		beforeCreate ---> created ---> beforeMount ---> mounted ---> beforeUpdate ---> updated ---> beforeDestory ---> destoryed
		
		
		
	概念:
		在组件执行的过程中，在适当的时机，Vue底层在不同的时间点会自动调用这个生命周期钩子(函数)
		
	注意点:
		1、这些生命周期函数(钩子)都是Vue底层自动帮我们调用的
		2、只有我们在组件中实现了这些生命周期钩子，Vue才会调用
		3、生命周期函数和普通函数不一样的地方在于，生
		命周期是Vue提供的，我们只需要实现了对应的函
		数，Vue在运行中就会自动帮我们的调用，但是普通
		函数，我们必须自己手工调用才能执行
		4、这些生命周期钩子中，除了beforeUpdate ---> updated其它都只会调用一次
		
## 组件生命周期的应用场景
	created:发送网络请求
		
	统计用户偏好:
		beforeCreate 记录一个时间 11:43:23
		beforeDestory 记录一个事件 11:44:23
			1分钟 发送请求给后台 newslist.vue
			
	记录之前的状态
		比如在有些页面填写了一些信息，没有提交，就不小心返回了，在beforeDestory记录起来，下次进去的时候，从localStorage中取出来，填充上去
		记录上一次滚动到了哪里，返回的时候记录一下，再次进去的时候，滚动到指定位置
		
### 思考
	如果数据慢了，这个时候如何解决刚刚那个问题？
		
----------------

## 非父子组件传值
	以点击加入购物车，然后徽标值变化为例
	
	商品详情组件 ---> App.vue
	
	什么样的组件才构成父子组件关系
	一个组件中通过components注册的组件，才称之为它的子组件
	
	步骤:
		1、创建一个空的Vue对象 bus
		2、在发送发(goodsinfo.vue)通过 bus.$emit('自定义事件名称',值)
		3、在接收方(App.vue)通过 bus.$on('自定义事件名称',处理函数)
		
----------------

## Vuex

### 概念
	 在各个组件之间共享数据用的，全局共享
	 
	 局部数据，组件内专用的，就是局部数据
	 
	 状态 === 数据
	 
### 什么情况下我应该使用 Vuex？
	https://vuex.vuejs.org/zh-cn/intro.html 
	
### 几个核心概念
	State：
		存储数据的地方,本身是个对象，通过属性名称和值的方式来表示的 属性名称:js类型(数组、对象，字符串...)
		
	Getters:
		从State中取出数据,他也是个对象，对象里面提供的是 属性名称:函数
		
	Mutations
		同步的往State总存储数据,他也是一个对象，对象里面提供的是 属性名称:函数
		
		Mutations ---> State
	
	Actions
		异步的间接的往State总存储数据,他也是一个对象，对象里面提供的是 属性名称:函数
		
		Actions ---> Mutations ---> State
	
	Modules

### 注意事项
	1、我们一个完整的仓库里面有State、Getters、Mutations、Actions，但是不是说必须要有这四个，这是可选的
	
	2、如果当我们在实际开发中，一个仓库不够用，通过Modules来创建多个仓库
	
	3、当使用Actions往State中存值的时候，不能直接存，必须借助同步(Mutations)去存
	
	4、在Mutations中的所有函数中，第一参数是State
	
### 代码步骤
	1、创建仓库
		参考:https://vuex.vuejs.org/zh-cn/installation.html
		
		1.1、安装包vuex
		1.2、集成到项目中来
			1.2.1、
				import Vuex from 'vuex'
				Vue.use(Vuex)
			
			1.2.2、创建一个空仓库
			
			1.2.3、注入到根实例中，让我们整个项目都能使用Vuex进行全局状态管理
		
	2、往仓库中存储数据（点击加入购物车把商品的数据存起来）
		
	
	3、从仓库中取数据（App.vue中展示徽标的时候，购物车组件）

----------------